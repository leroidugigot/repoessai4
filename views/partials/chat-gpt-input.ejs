<div class="mt-8 border-t pt-4">
    <h3 class="text-lg font-semibold mb-2">Assistance ChatGPT</h3>
    <form id="chatgpt-form" class="flex">
      <input type="text" id="chatgpt-input" class="flex-grow border rounded-l px-4 py-2" placeholder="Posez votre question...">
      <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-r">Envoyer</button>
    </form>
    <div id="chatgpt-response" class="mt-4"></div>
  </div>
  
  <script>
  document.getElementById('chatgpt-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    const input = document.getElementById('chatgpt-input');
    const response = document.getElementById('chatgpt-response');
    response.textContent = "Chargement de la réponse...";
    
    try {
      const res = await fetch('/api/chatgpt', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ question: input.value })
      });
      const data = await res.json();
      response.textContent = data.answer;
    } catch (error) {
      response.textContent = "Erreur lors de la récupération de la réponse.";
    }
    
    input.value = '';
  });
  </script>